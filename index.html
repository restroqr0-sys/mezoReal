<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MEZO - Taste the Wild Essence</title>
  <style>
    /* --- DARK GREEN JUNGLE THEME --- */
    :root {
      --primary-green: #1b5e20;      /* Darker green */
      --accent-green: #2e7d32;       /* Mid-tone green */
      --highlight-green: #43a047;    /* Accent hover */
      --light-bg: #e8f5e9;           /* Soft light green */
      --text-color: #1b1b1b;
      --shadow-soft: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      color: var(--text-color);
      background-color: var(--light-bg);
      background-image: url('https://picsum.photos/1200/800?blur=2'), 
        linear-gradient(rgba(15, 45, 20, 0.8), rgba(30, 70, 30, 0.8));
      background-blend-mode: overlay;
      background-size: cover;
      background-attachment: fixed;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* --- HEADER --- */
    .header-container {
      text-align: center;
      padding: 80px 20px 40px;
      background: linear-gradient(45deg, rgba(15, 45, 20, 0.95), rgba(27, 94, 32, 0.95));
      color: white;
      width: 100%;
      box-shadow: var(--shadow-soft);
      border-bottom-left-radius: 40px;
      border-bottom-right-radius: 40px;
    }

    .heading-mezo {
      font-size: 3.5rem;
      font-weight: 900;
      letter-spacing: 6px;
      margin: 0;
      overflow: hidden;
      border-right: 0.15em solid white;
      white-space: nowrap;
      animation:
        typing 2.2s steps(4, end) forwards,
        blink-caret 0.75s step-end infinite;
      display: inline-block;
    }

    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }

    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: white }
    }

    .tagline {
      font-size: 1.2rem;
      margin-top: 10px;
      opacity: 0;
      animation: fade-in 1.2s ease-out 2.5s forwards;
    }

    @keyframes fade-in {
      to { opacity: 1; }
    }

    /* --- GRID --- */
    .navigation-grid {
      padding: 40px 20px;
      width: 90%;
      max-width: 1000px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
    }

    .category-card {
      background-color: rgba(255, 255, 255, 0.95);
      border-radius: 14px;
      padding: 25px;
      text-align: center;
      transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
      box-shadow: var(--shadow-soft);
      text-decoration: none;
      color: var(--text-color);
      position: relative;
      overflow: hidden;
      border: 2px solid var(--accent-green);
    }

    .category-card:hover {
      transform: translateY(-6px) scale(1.03);
      box-shadow: 0 10px 30px rgba(0, 50, 0, 0.5);
      border-color: var(--highlight-green);
      background-color: rgba(240, 255, 240, 0.98);
    }

    .card-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-green);
      margin-bottom: 5px;
    }

    .card-icon {
      font-size: 3rem;
      display: block;
      margin-bottom: 10px;
      transition: transform 0.3s;
    }

    .category-card:hover .card-icon {
      transform: rotate(10deg) scale(1.1);
    }

    /* --- FLOATING CART --- */
    .floating-cart {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: var(--primary-green);
      color: white;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
      transition: background-color 0.3s, transform 0.2s;
      z-index: 1000;
    }

    .floating-cart:hover {
      background-color: var(--highlight-green);
      transform: scale(1.08);
    }

    .cart-icon-text {
      font-size: 1.6rem;
      line-height: 1;
    }

    .cart-count-amount {
      font-size: 0.75rem;
      font-weight: bold;
    }

    .cart-bounce {
      animation: bounce 0.5s;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
  </style>
</head>
<body>

  <div class="header-container">
    <h1 class="heading-mezo">MEZO</h1>
    <p class="tagline">Taste the Wild Essence of Nature 🌱</p>
    <p style="font-size: 0.9rem; margin-top: 15px;">
      Your Table Number: <strong id="table-number-display">N/A</strong>
    </p>
  </div>

  <div class="navigation-grid"></div>

  <a id="floating-cart-link" href="checkout.html" class="floating-cart">
    <span class="cart-icon-text">🛒</span>
    <div class="cart-count-amount" id="cart-info">0 / ₹0</div>
  </a>

  <script>
    const tableNumber = new URLSearchParams(window.location.search).get('table') || 'N/A';
    document.getElementById('table-number-display').textContent = tableNumber;

    const menuStructure = [
      { id: 'drinks', title: 'Drinks', icon: '🍹' },
      { id: 'green-grains', title: 'Green & Grains', icon: '🥗' },
      { id: 'pizzas', title: 'Thin Crust Pizzas', icon: '🍕' },
      { id: 'bar-bites', title: 'Bar & Bites', icon: '🍺🍢' },
      { id: 'bisque-broth', title: 'Bisque & Broth', icon: '🥣🍵' },
      { id: 'dimsum-gyoza', title: 'Dimsum & Gyoza', icon: '🥟🍲' },
      { id: 'sushi-maki', title: 'Sushi & Maki', icon: '🍣🥢' },
      { id: 'sharing-platters', title: 'Sharing Platters', icon: '🍱🥢' },
      { id: 'pastas-risottos', title: 'Pastas & Risottos', icon: '🍝🍚' },
      { id: 'veg-appetizer', title: 'Veg Appetizer', icon: '🥗🍛' },
      { id: 'non-veg-appetizer', title: 'Non-Veg Appetizer', icon: '🍗🍛' },
      { id: 'seafood-appetizer', title: 'Seafood', icon: '🦞🍤' },
      { id: 'oriental-large-plates', title: 'Oriental Large Plates', icon: '🥢🍲' },
      { id: 'rice-noodles', title: 'Rice & Noodles', icon: '🍚🍜' },
      { id: 'indian-main-course', title: 'Indian Main Course', icon: '🍛🥘' },
      { id: 'indian-comfort-meal-and-sides', title: 'Indian Comfort Meal & Sides', icon: '🍛🥣' },
      { id: 'indian-breads', title: 'Indian Breads (Roti)', icon: '🥖🍞' },
      { id: 'desserts', title: 'Sweet Endings', icon: '🍰' }
    ];

    function getCart() {
      try {
        return JSON.parse(localStorage.getItem('mezoCart')) || [];
      } catch (e) {
        console.error("Error parsing cart from localStorage:", e);
        return [];
      }
    }

    function updateCartIcon(shouldBounce = false) {
      const cart = getCart();
      const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0);
      const totalAmount = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      const cartInfo = document.getElementById('cart-info');
      const cartIcon = document.getElementById('floating-cart-link');
      cartInfo.textContent = `${totalCount} / ₹${totalAmount}`;
      if (shouldBounce) {
        cartIcon.classList.add('cart-bounce');
        setTimeout(() => cartIcon.classList.remove('cart-bounce'), 500);
      }
    }

    function initializePage() {
      updateCartIcon();
      const grid = document.querySelector('.navigation-grid');
      menuStructure.forEach(cat => {
        const link = `${cat.id}.html${tableNumber !== 'N/A' ? `?table=${tableNumber}` : ''}`;
        const card = document.createElement('a');
        card.href = link;
        card.className = 'category-card';
        card.innerHTML = `<span class="card-icon">${cat.icon}</span><div class="card-title">${cat.title}</div>`;
        grid.appendChild(card);
      });
      document.getElementById('floating-cart-link').href = 
        `checkout.html${tableNumber !== 'N/A' ? `?table=${tableNumber}` : ''}`;
    }

    document.addEventListener('DOMContentLoaded', initializePage);
  </script>
</body>
</html>
